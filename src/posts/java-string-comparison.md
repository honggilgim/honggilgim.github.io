## 개요

오늘 회사에서 짠 코드에서 문제가 발생해 하루 종일 고생했다. 그 고생했던 내용을 적어 나중에는 고생하지 않도록 하려고 한다.

## 자바 String 비교 연산자

자바 String의 비교 연산자는 `==`으로 안된다. 오로지 `equals`로만 값 비교가 가능하다. 이 부분은 자바의 객체 지향적 특성과 String은 자료형이 아닌 변수여서 이런 결과가 나오는 것이다.

자바에서 `==` 연산자는 primitive type만을 비교한다. int, boolean 같은 형식의 변수가 그러한 변수이며 오직 이런 값들을 비교할 때만 값 자체를 비교한다. 하지만 String으로 대표되는 reference type의 값들을 비교할 때는 값이 아닌 주소값으로 비교한다. 즉, String과 같은 reference 값들은 똑같은 값을 가졌더라도, 다른 형식으로 비교를 해 다르다는 결론을 낸다.

```java
String a = "abc";
String b = "abc";

if(a == b) ?
```

위의 if 문에서, a와 b라는 변수에 똑같은 값인 abc가 들어있지만 자바에서는 `==` 연산자로 비교 시 이 두 변수의 값이 아닌 주소를 비교하기 때문에 자바에서 저 두 연산자는 서로 다른 값을 가진 결과가 출력된다. **즉, a==b가 false로 출력되게 되는 것이다.**

원래 알고 있어서 사용하지 않았지만 다른 누군가가 사용한 코드 때문에 오늘 엄청나게 고생했다. 알고 있는대도 찾기 힘들었다.

## Java equals() 연산자

자바 equals 연산자 역시 주소값을 비교한다. 하지만 자바의 String 클래스 내부에는 equals 연산자가 재정의되어 있어, 다행히 값들 역시 비교하여 출력해준다. 주소값을 비교하지 않는 것은 아니지만, String 내부에 재정의되어 있는 만큼 equals 연산자를 통해 우리는 주소가 아닌 값을 비교할수 있게 된 것이다.

```java
String a = "abc";
String b = "abc";

if(a.equals(b)) ?
```

이렇게 할 경우에는 안의 if 문이 true로 떨어지게 된다. 그리고 equals 연산자를 사용할 때 꿀팁이 있는데,

```java
if("abc".equals(a)) // 1
if(a.equals("abc")) // 2
```

이 두가지 경우를 쓴다면 무조건 1번의 경우를 써야 한다. 2번의 경우를 썼을 때 값에 null이 들어올 경우, NPE 에러가 발생한다. 이 점은 주의해서 사용해야 할 것이다.

